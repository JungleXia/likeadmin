import{d as a,z as e,aR as t,m as s,A as l,W as r,o as u,e as i,h as c,b as o,w as n,g as m,l as d,t as f,c as p,F as _,J as g,ai as x,r as y,a as h,y as b,k as v}from"./index.28d89b6b.js";import{g as w,_ as j,a as k}from"./pay.bfa574a6.js";import{_ as R}from"./u-image.37b37f6b.js";import{_ as A}from"./u-button.322cee95.js";import{_ as O}from"./plugin-vue_export-helper.21dcd24c.js";import"./u-icon.be7b466a.js";var I=O(a({__name:"payment_result",setup(a){const O={succeed:{text:"支付成功",image:"/static/images/payment/icon_succeed.png"},waiting:{text:"等待支付",image:"/static/images/payment/icon_waiting.png"}},I=e(t.LOADING),S=e({id:"",from:""}),C=s({order:{}}),E=l((()=>{const a=!!C.payStatus;return O[a?"succeed":"waiting"]})),L=()=>{g({url:"/pages/index/index"})},N=()=>{if("recharge"===S.value.from)x()};return r((async a=>{try{if(!a.id)throw new Error("订单不存在");S.value=a,await new Promise(((a,e)=>{w({orderId:S.value.id,from:S.value.from}).then((e=>{Object.assign(C,e),a(e)})).catch((a=>{e(a)}))})),I.value=t.NORMAL}catch(e){console.log(e),I.value=t.ERROR}})),(a,e)=>{const t=y(h("u-empty"),j),s=y(h("u-image"),R),l=b,r=v,g=y(h("u-button"),A),x=y(h("page-status"),k);return u(),i(_,null,[c(" 页面状态 "),o(x,{status:I.value},{error:n((()=>[o(t,{text:"订单不存在",mode:"order"})])),default:n((()=>[o(r,{class:"payment-result p-[20rpx]"},{default:n((()=>[o(r,{class:"result bg-white p-[20rpx] rounded-md"},{default:n((()=>[o(r,{class:"flex flex-col items-center my-[40rpx]"},{default:n((()=>[c(" 支付状态图片 "),o(s,{class:"status-image",src:m(E).image,width:"100",height:"100",shape:"circle"},null,8,["src"]),c(" 支付状态文字 "),o(l,{class:"text-2xl font-medium mt-[20rpx]"},{default:n((()=>[d(f(m(E).text),1)])),_:1}),o(r,{class:"text-3xl font-medium mt-[20rpx]"},{default:n((()=>[d(" ¥ "+f(C.orderAmount),1)])),_:1})])),_:1}),c(" 支付信息 "),o(r,{class:"result-info"},{default:n((()=>[o(r,{class:"result-info__item"},{default:n((()=>[o(l,null,{default:n((()=>[d("订单编号")])),_:1}),o(l,null,{default:n((()=>[d(f(C.orderSn),1)])),_:1})])),_:1}),o(r,{class:"result-info__item"},{default:n((()=>[o(l,null,{default:n((()=>[d("付款时间")])),_:1}),o(l,null,{default:n((()=>[d(f(C.payTime||"-"),1)])),_:1})])),_:1}),o(r,{class:"result-info__item"},{default:n((()=>[o(l,null,{default:n((()=>[d("支付方式")])),_:1}),C.payStatus?(u(),p(l,{key:0},{default:n((()=>[d(f(C.payWay||"-"),1)])),_:1})):(u(),p(l,{key:1},{default:n((()=>[d("未支付")])),_:1}))])),_:1})])),_:1})])),_:1}),o(r,{class:"mt-[40rpx]"},{default:n((()=>[o(r,{class:"mb-[20rpx]"},{default:n((()=>["recharge"==S.value.from?(u(),p(g,{key:0,type:"primary",shape:"circle","hover-class":"none",onClick:N},{default:n((()=>[d(" 继续充值 ")])),_:1})):c("v-if",!0)])),_:1}),o(r,{class:"mb-[20rpx]"},{default:n((()=>[o(g,{type:"primary",plain:"",shape:"circle","hover-class":"none",onClick:L},{default:n((()=>[d(" 返回首页 ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["status"])],2112)}}}),[["__scopeId","data-v-75ec1c10"]]);export{I as default};
